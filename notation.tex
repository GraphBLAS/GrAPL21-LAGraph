\section{Notation}
\label{sec:notation}

\input{table-graphblas-notation}

``guiding principles'': understandable (biggest probability of first guess to be correct), similar to existing notations~\cite{GraphBLASv13}

\todo{initial draft by Gabor}

\todo{explain masks}

\todo{explain replace/merge as per Scott's email}
% REPLACE: C :=              M .* (C + AB)
% MERGE:   C := (!M .* C) U [M .* (C + AB)]

\todo{revise Scott, Tim D, and Tim M}

\todo{consider adding semiring table}

what do masks mean?

the mask restricts the scope of the computation to the elements selected by the mask ($\grbm{m}$) or the complement of these elements ($\grbneg\grbm{m}$)

there are variations based on
(1)~how the elements are selected (based on the \emph{values} in the mask or the \emph{structure} of the mask)
(2)~how the elements outside the selected ones are treated (they are \emph{replaced} with implicit zeros or they are kept intact and \emph{merged} with the results of the computation)

by default, masks should use \emph{merge} semantics, i.e. the computation can only effect elements selected by the mask, elements outside the mask are unaffected
$\grbv{w}\grbmask{\grbv{m}}$ and $\grbv{w}\grbmask{\grbneg \grbv{m}}$

\emph{replace} semantics, i.e. they annihilate all elements outside the mask. this is denoted with
$\grbv{w}\grbmaskreplace{\grbv{m}}$ and $\grbv{w}\grbmaskreplace{\grbneg \grbv{m}}$

by default, element values in the mask are checked and elements with zero value are not used
to avoid this, we use \emph{structural masks}
$\grbv{w}\grbmask{\grbstr{\grbv{m}}}$ and $\grbv{w}\grbmask{\grbneg \grbstr{\grbv{m}}}$

Combining \emph{replace semantics} and \emph{structural masks} is possible:
$\grbv{w}\grbmaskreplace{\grbstr{\grbv{m}}}$
$\grbv{w}\grbmaskreplace{\grbneg \grbstr{\grbv{m}}}$


% \begin{tabular}{ll}
%     $\grbv{w}\grbmask{\grbv{m}}$                 & compute for nodes selected by the values of $\grbv{m}$ & keep       \\
%     $\grbv{w}\grbmaskreplace{\grbv{m}}$          & compute for nodes selected by the values in $\grbv{m}$ & discard  \\
%     $\grbv{w}\grbmask{\grbstr{\grbv{m}}}$        & compute for nodes selected by the pattern of $\grbv{m}$ & keep      \\
%     $\grbv{w}\grbmaskreplace{\grbstr{\grbv{m}}}$ & compute for nodes selected by the pattern of $\grbv{m}$ & discard \\
% \end{tabular}

Initializing scalars, vectors, and matrices (GraphBLAS methods):

\begin{itemize}
    \item $\grbnewscalar{\grbs{s}}{\grbfloat}{64}$
    \item $\grbnewvector{\grbv{w}}{\grbfloat}{32}{n}$
    \item $\grbnewmatrix{\grbm{A}}{\grbuint}{16}{m}{n}$
    \item $\grbnewmatrix{\grbm{A}}{\grbint}{64}{k}{m}$
\end{itemize}

\paragraph{Transposition}
separate operator + descriptor ($\grbt$)

vectors can be interpreted as row/column vectors, we do not transpose them manually

extensions

conversion table
